// ---------------------------------------------------------------
//
//  Breakpoint M
//
// ---------------------------------------------------------------

@include breakpoint(M) {

  @include mqindicator('M');

  // Header ######################################

  .Banner {
    min-height: 30px;
    line-height: 22px;
  }

  .Banner__text {
    padding-left: 0;

    &:before {
      display: none;
    }
  }

  .Banner__text,
  .Banner__link {
    font-size: 12px;
  }

  .Logo--start {
    body.refugees &.Logo,
    body.family &.Logo { // Specifity
      margin: 19px 0 45px 0;
      height: 46px;
      width: 130px;
      background-size: 130px 46px;
      top: 0;
    }
  }

  .Claim {
    display: block;
    float: none;
    clear: both;
    margin-top: 0;
    max-width: 60%;
  }

  .Claim__firstrow {
    font-size: 18px;
  }

  .Claim__secondrow {
    position: relative;
    top: auto;
    display: inline-block;
    font-size: 18px;
    margin-top: 14px;
    max-width: 60%;
  }

  .header-main {
    height: auto;
    margin-bottom: 0;
    min-height: 60px;
  }

  .header-main__wrapper {

    &,
    &.wrapper-inner {
      padding: 0;
    }
  }

  .Logo {
    height: 65px;
    width: 100px;
    min-height: 0;

    &,
    body.refugees &, // Specifity
    body.family &, // Specifity
    body.template--pages-section_choice[data-section="refugees"] &, // Specifity
    body.template--pages-section_choice[data-section="family"] & { // Specifity
      background-size: 90px 35px;
    }

  }

  .Logo--start {
    position: relative;
    bottom: auto;
    margin-top: 25px;
    margin-left: 0;
    width: 180px;
    height: 40px;
    background-image: image-url('logo.svg');
    background-size: 180px 40px;
  }

  .Distributor {
    width: calc(100% - 190px);
    padding-bottom: 5px;
    height: auto;

    .template--pages-home & {
      background-color: $brand_yellow;
    }

    body.refugees &,
    body.family & {
      border-top: none;
    }

  }

  .nav-lang__list {
    display: none;
  }

  button.nav-lang__button {
    margin-top: 19px;
  }

  .nav-main {
    position: relative;
    float: none;
    display: inline-block;
    margin-top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;

    [data-section="refugees"] & {
      background-color: $brand_core_refugees;
    }

    [data-section="family"] & {
      background-color: $brand_core_family;
    }

    body.template--pages-section_choice[data-section="refugees"] &, // Specifity
    body.template--pages-section_choice[data-section="family"] & {
      background-color: $brand_brown;
    }

    &[aria-hidden="true"] {
      display: none;
    }

    &[aria-hidden="false"] {
      display: inline-block;
    }
  }

  .nav-main__list {
    flex-direction: column;
  }

  .nav-main__link {
    text-decoration: none;

    body[data-section="refugees"] &, // Specifity
    body[data-section="family"] &, // Specifity
    body.template--pages-section_choice[data-section="family"] &,
    body.template--pages-section_choice[data-section="refugees"] & {
      color: $brand_white;
    }
  }

  button.header-main__nav-main-trigger {
    display: block;
    min-height: inherit;
    width: 40px;
    float: left;
  }

  button.nav-lang__button {
    cursor: pointer;
    background-image: image-url('ico_weltkugel--dropdown.svg');
    width: 50px;

    &.is-active {
      background-image: image-url('ico_weltkugel--dropup.svg');
    }
  }

  .Distributor--start {
    margin-top: 0;
    position: static;
    padding-bottom: 0;
    width: 100%;
  }

  .Distributor--navigation {
    padding-bottom: 0;
    margin: 0;
    max-width: 1000px;

    &.is-enlarged {
      // max-height: 95px;
    }

    html[dir="rtl"] & {
      margin-left: 0;
    }

    .JS-Geolocation__prompt {
      bottom: 35px;
      margin: 0 20% 0 0;
      padding: 5px;
      width: 80%;
    }
  }

  .main-search {
    height: 107px;
  }

  .main-search__wrapper {
    display: flex;
  }

  #new_search_form .search-form--input-wrapper {
    height: auto;
  }

  .JS-Geolocation__remove {
    top: 2px;
    right: 5px;

    .Distributor--navigation & {
      top: 2px;
      right: 75px;
    }
  }

  .search-form--input-wrapper {
    flex-direction: column;
    position: relative;
    margin-right: 5px;

    body.ar & {
      right: 0;
    }
  }

  .Callout {
    padding: 0;

    @supports (display: grid) {
      display: grid;
      grid-template-columns: 1fr;
    }
  }

  .Callout__section {
    float: none;
    width: 100%;
    padding-top: 15px;
    display: flex;
  }

  .Callout__headline {
    font-size: 18px;
  }

  .Callout__icon-container {
    float: left;
    min-width: 85px;
    justify-content: flex-start;
  }

  .Callout__icon {
    max-width: 50px;
    height: auto;
  }

  .Explainaition-area__headline {
    font-size: 22px;
  }

  .Hero {
    height: 323px;
  }

  .Hero__logline {
    font-size: 16px;
    max-width: 194px;
  }

  .Hero__pitch {
    left: 15px;
  }

  .Hero__link-to-explaination {
    display: none;
  }

  #new_search_form {
    height: 107px;
    flex-direction: row;
    width: 100%;
    margin-right: 0;
    flex: 1;
    padding: 15px 0;

    .Distributor.is-enlarged & {
      //margin-left: 15px;

      .tt-dropdown-menu {
        right: 1px; // override JS
      }
    }

    #search_form_query,
    #search_form_search_location {
      width: inherit;
      max-width: none;
    }

    #search_form_query,
    #search_form_search_location {
      float: none;
      max-width: none;
    }

    #search_form_search_location {
      padding-left: 40px;

      body.en & {
        padding-left: 60px;
      }

      body.pl & {
        padding-left: 54px;
      }
    }

    #search_form_query,
    #search_form_search_location {
      width: inherit;
    }

    #search_form_query {
      padding-left: 53px;

      body.pl & {
        padding-left: 34px;
      }

      body.tr & {
        padding-left: 34px;
      }

      html[dir="rtl"] & {
        padding-left: 15px;
        padding-right: 53px;
      }

      html[dir="rtl"][lang="fa"] & {
        padding-left: 15px;
        padding-right: 83px;
      }

      html[dir="rtl"] .is-enlarged & {
        border-bottom-right-radius: 0;
      }
    }

    #search_form_search_location {
      html[dir="rtl"] & {
        padding-left: 15px;
        padding-right: 40px;
      }

      html[dir="rtl"][lang="fa"] & {
        padding-left: 15px;
        padding-right: 60px;
      }

      body.tr & {
        padding-left: 66px;
      }

      html[dir="rtl"] .is-enlarged & {
        border-bottom-right-radius: $border_radius;
      }
    }

    .main-search__submit {
      flex: 1;
      max-width: 85px;
      height: auto;
    }

    #search_form_query,
    #search_form_search_location {
      @include input-placeholder(rgba($brand_brown, .72), 400, 16px);
      height: 35px;
      font-size: 16px;
      line-height: 35px;
    }

    .main-search__submit {

      position: relative;
      top: 0;
      right: auto;

      html[dir="rtl"] body:not(.template--pages-home) & {
        right: auto;
        left: 20px;
      }

      &.is-enlarged {
        top: 10px;
        bottom: 10px;
        height: auto;
      }

    }

    .input {
      &.string {
        display: block;
        width: 100%;

        html[dir="rtl"] & {
          padding-left: 55px;
          padding-right: 0;
        }

        html[dir="rtl"][lang="fa"] .template--pages-home & {
          padding-left: 0;
          padding-right: 0;
        }

        &.search_form_search_location {
          margin-top: 5px;

          &.is-visible {
            display: block;
          }
        }
      }
    }

    label {
      &.string {
        top: 0;
        left: 9px;
        font-size: 16px;
        line-height: 35px;

        .template--pages-home & {
          top: auto;
          bottom: 3px;
          left: 8px;
          max-height: 40px;
        }
      }
    }
  }

  html[dir="rtl"] {
    &.template--pages-home {
      #new_search_form {
        label {
          &.string {
            right: 8px;
            left: auto;
          }
        }

        .input {
          margin-right: 0;
          padding-left: 0;
        }
      }
    }
  }

  .main-search__advanced-filter {
    display: none;
  }

  .main-search__advanced-filter--within-content-main {
    display: block;
    position: relative;
    margin: 0 -20px -15px;
    padding-left: 0;
    height: 35px;
    text-align: center;
    font-size: 13px;
    color: $brand_brown;
    font-weight: 700;
    cursor: pointer;
    line-height: 35px;
    background-color: $brand_yellow;

    &[aria-expanded="true"],
    &[aria-expanded="false"] {
      background-image: none;
    }

  }

  .nav-welt {
    top: 0;
  }

  .nav-welt--notstart {
    position: relative;
    border-bottom: 4px solid;
    display: block;
    height: 36px;

    body.refugees & {
      border-color: $brand_core_refugees;
    }

    body.family & {
      border-color: $brand_core_family;
    }
  }

  .nav-welt__list {
    width: auto;
    //margin: 0 -25px;
    display: block;

    &:first-child a {
      border-radius: 0;
    }

  }

  .nav-welt__listitem {
    min-width: 154px;
    display: inline-block;

    a {
      width: 100%;
      border-bottom: none;
      min-width: 0;
      height: auto;
      min-height: 32px;
      font-size: 16px;
      padding: 0;
      letter-spacing: 1px;
      line-height: 32px;

      .template--pages-home & {
        height: 40px;
        line-height: 40px;
      }

      &:before {
        display: none;
        margin-bottom: -5px;
      }
    }
  }

  .nav-welt--start {
    top: auto;
    left: 20px;
  }

  .filter-form {
    -webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-top: 0;
    padding-left: 0;
    padding-right: 0;
    background-color: transparent;
  }

  .filter-form__fieldset {
    -webkit-flex: 1 0 50%;
    -ms-flex: 1 0 50%;
    flex: 1 0 50%;

    &#age {
      -webkit-order: 1;
      -ms-flex-order: 1;
      order: 1;
    }

    &#target_audience {
      -webkit-order: 3;
      -ms-flex-order: 3;
      order: 3;
    }

    &#exclusive_gender {
      -webkit-order: 2;
      -ms-flex-order: 2;
      order: 2;
    }

    &#contact_type {
      -webkit-order: 4;
      -ms-flex-order: 4;
      order: 4;
    }
  }

  //.Listing-results {
  //  padding-top: 20px;
  //}

  .Listing-results__expander {
    display: block;
    position: absolute;
    right: 4px;
    top: 4px;

    html[dir="rtl"] & {
      left: 4px;
      right: auto;
    }
  }

  .Distributor__advanced-filter-trigger-wrapper {
    position: relative;
    background-color: $brand_brown;
    width: 100%;
    display: none;
    height: auto;
    text-align: center;

    .template--offers-index {
      display: block;
    }

    a {
      color: $brand_white;
      height: 30px;
      line-height: 30px;
      font-size: 14px;
    }
  }

  .nav-sections__headline {
    margin-bottom: 20px;
  }

  .nav-sections__list {
    display: block; // no need for flexbox anymore
  }

  .nav-sections__listitem {
    float: none;
    width: 100%;
    height: 60px;
    background-position: 100% top;
    background-size: contain;
    line-height: 57px; // closer to optical vertical middle
    max-width: 100%;

    a {
      padding: 0;
      text-align: left;
    }

    html[dir="rtl"] & {
      background-position: 0 top;

      a {
        text-align: right;
      }
    }
  }

  .nav-sections__button {
    body.family &,
    body.refugees & {
      text-align: left;
      padding-top: 0;
      width: 100%;
    }

    &[aria-selected="true"] {
      body.family &,
      body.refugees & {
        color: $brand_brown;
        text-decoration: underline;
      }
    }
  }

  .nav-sections__notification {
    right: -5px;
    top: -5px;
    width: 25px;
    height: 25px;
    line-height: 22px;
    font-size: 16px;
  }

  html[dir="rtl"] {
    .Claim {
      float: none;
    }
  }

  .nav-lang__title {
    font-size: 13px;
  }

  .Hero {
    [data-section="family"] & {
      background-image: image_url('hero_family--1--medium.jpg')
    }

    [data-section="refugees"] & {
      background-image: image_url('hero_refugees--1--medium.jpg')
    }
  }

  .Mission__statement,
  .Mission__stage {
    height: 176px;
  }

  .Mission__stage {
    background-image: image_url('mission--1--medium.jpg')
  }

  .Mission__statement {
    padding: 15px 15px 15px 0;

    &:after {
      border-top: 88px solid #F4B528;
      border-bottom: 88px solid #F4B528;
      border-left: 30px solid transparent;
      left: -30px;
      width: 30px;
    }
  }

  .Mission__headline {
    font-size: 22px;
  }

  .Mission__text {
    font-size: 14px;
  }

  .section-choice__item {
    width: 48%;
    margin: 0 2%;

    &:first-child {
      margin-left: 0;
    }

    &:last-child {
      margin-right: 0;
    }
  }

  .section-choice__header {
    flex-direction: column;
  }

  .section-choice__logo {
    margin-bottom: 15px;
    align-self: flex-start;
  }

  .section-choice__cta {
    width: calc(100% - 25px);
  }

  .section-choice__container {
    &,
    .section-choice__item:last-child &,
    .section-choice__item:first-child & {
      margin: 0;
    }
  }

  .section-choice {
    margin: 0;
  }

  .section-choice__item {
    &:first-child {
      border: none;
    }
  }

  // Content ######################################

  .page-wrap:after {
    height: 136px;
  }

  .template--offers-show, .template--previews-show_offer {

    .page-detail__title {
      padding-right: 50px;
      font-size: 24px;

    }

    &.ar {
      .page-detail__title {
        padding-left: 50px;
        padding-right: 0;
      }
    }

    .page-detail__icon {
      width: 40px;
      height: 40px;
      background-size: 40px 40px;
    }
  }

  .Listing-results {
    .filter-form__fieldset.sort_order {
      display: none;
    }
  }

  .Listing-results__meta {
    background: none;
    padding: 6px;
  }

  .aside-standard__container {
    margin-top: 30px;
    margin-bottom: 0;
  }

  .aside-standard {
    position: relative !important; // Override JS
    max-width: 100%;
  }

  .content-main,
  .Categories {
    .template--offers-index & {
      float: none;
      width: 100%;
    }
  }

  .content-main.content-main--offers-index {
    padding-left: 0;

    html[dir="rtl"] & {
      padding-right: 0;
      width: auto;
    }
  }

  .content-main {
    padding-top: 0;

    .template--pages-home & {
      //padding-top: 0;
    }

    &.template--pages-about {
      //padding-top: 100px;
    }

    &.content-main--invalid_location {
      //padding-top: 80px;
    }

    body[class="template--pages-"] & {
      padding-top: 68px;
    }
  }

  .Listing-results__headline {

    body.pl &,
    body.fr & {
      padding-right: 0;
    }
  }

  .Listing-results__meta {
    width: 100%;
  }

  .Listing-results__orga-display {
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .Listing-results__location {
    padding: 0 0 4px 6px;
  }

  .section-team__member {
    width: 49%;
    min-height: 670px;

    &:nth-of-type(4n+1) { // reset
      margin-left: 1.8%;
    }

    &:nth-of-type(3n+1) { // reset
      margin-left: 1.8%;
    }

    &:nth-of-type(2n+1) {
      margin-left: 0;
    }
  }

  .contact-form {
    margin-top: 22px;

    .string input,
    .email input,
    textarea,
    &.formtastic .inline-errors {
      width: 410px;
    }
  }

  .Listing-results__address,
  .Listing-results__stamp {
    clear: left;
    width: 100%;
  }

  .Listing-results__meta {
    display: none;

    &.is-expanded {
      display: block;
    }
  }

  li[class^="FAQ__ico"] {
    list-style: none;
    padding-left: 50px;
    background-repeat: no-repeat;
    background-position: left top;
    background-size: 39px auto;
  }

  #off-canvas-container {
    display: block;
  }

  .Listing-results__headline,
  .Listing-results__headline--remote {
    html[dir="rtl"] & {
      padding-left: 0;
    }
  }

  .Type-results__link {
    font-size: 14px;
    width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block;
    white-space: nowrap;
  }

  .Type-results__item {
    padding: 5px 8px;
  }

  // Footer ######################################

  .nav-site__listitem {
    font-size: 16px;
    line-height: 26px;
  }

  .mascot--footer {
    display: none;
  }

  .footer-main__firstrow {
    margin-top: 0;
  }

  .footer-main__subscribe,
  .footer-main__about {
    float: left;
    width: 100%;
  }

  .footer-main__facebook-item {
    margin-left: 0;
    margin-top: 20px;
    margin-right: 20px;
  }

  .nav-site {
    float: none;
  }

  .nav-site__listitem {
    text-align: left;
  }

  .hint {
    -js-display: flex;
    display: flex;
    font-size: 13px;
    margin-right: 8px;
    padding: 14px;
  }

  .hint__icon {
    float: none;
    font-size: 21px;
  }

  .more-information-text {
    width: 50%;
  }

  // Misc ######################################

  .JS-Cookie-warning {
    font-size: 11px;
  }

  a[href^="tel"]:link,
  a[href^="tel"]:visited,
  a[href^="tel"]:hover,
  a[href^="fax"]:link,
  a[href^="fax"]:visited,
  a[href^="fax"]:hover {
    text-decoration: underline;
    pointer-events: auto;
  }

  .popup_content {
    margin: 25px; // override inline CSS caused by JS
    width: auto !important;

    p {
      font-size: 13px;
    }

    .formtastic {
      input[type="submit"],
      input[type="email"] {
        font-size: 13px;
      }
    }
  }

  a.big-map_open {
    display: none !important;
  }

  // ToDo: Refactor. Button must move to a new line on small screens in case it
  // would otherwise interfere with other content. If no new line is needed it
  // should flow right (if flow: right is used it is partly hidden).
  .more_remote-offers_open {
    position: relative !important;
  }

  div[class="shariff"] {
    top: auto;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000 !important; // Prevents DOM change
    background-color: $brand_white;

    > ul {
      display: flex;
    }

    li:first-child {
      margin: 0;
      flex: 1 1 25%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0;
    }

    .shariff__label {
      color: $brand_orange;
    }

    .shariff-button {
      flex: 1 1 25%;
      width: auto;
      margin: 0;

      .fa {
        display: block;
        width: 100%;
        font-size: calc(2.5vw + 1vh);
        line-height: calc(2.5vw + 1vh);
      }

      .share_text {
        display: none;
      }

      &:hover {
        box-shadow: none;
        background: $brand_orange;
      }
    }
  }

  .shariff-button.whatsapp {
    display: block !important;
  }

  .template--offers-index {
    #qtip-1 {
      margin-top: 0;
    }
  }

  .overlay-active .main-search__advanced-filter {
    background: #f4b528;
    padding: 0;
    display: block;
    top: 0;
    transform: initial;
    left: 0;
    right: 0;
    width: 100vw;
  }

  body.refugees.overlay-active .main-search__advanced-filter {
    background: $brand_core_refugees;
  }

  body.family.overlay-active .main-search__advanced-filter {
    background: $brand_core_family;
  }

  #qtip-ttWeltFamily,
  #qtip-ttWeltRefugees {
    left: 10px !important; // override JS

    .template--offers-index & {
      top: 10px !important;
    }
  }

  #qtip-ttAdvancedSearch {
    margin-top: 50px;
    max-width: 60%;
  }

  .qtip-tip {
    display: none !important; // override JS
  }

  input[type='radio'] {
    &:after {
      width: 15px;
      height: 15px;
      border-radius: 15px;
      top: -2px;
      left: -1px;
      position: relative;
      background-color: transparent;
      content: '';
      display: inline-block;
      visibility: visible;
      border: 2px solid $brand_brown;
    }

    &:checked:after {
      width: 15px;
      height: 15px;
      border-radius: 15px;
      top: -2px;
      left: -1px;
      position: relative;
      background-color: $brand_brown;
      content: '';
      display: inline-block;
      visibility: visible;
      border: 2px solid $brand_brown;
    }
  }
}
